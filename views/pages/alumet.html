<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <link rel="icon" href="../../assets/global/alumet.ico" />
        <meta name="description" content="Alumet: La flamme de l’innovation au service de l’éducation." />
        <meta name="keywords" content="Alumet, classe, free, organisation, murs, fichiers, courses, classroom" />
        <meta property="og:title" content="Alumet: La flamme de l’innovation au service de l’éducation." />
        <meta property="og:description" content="L'outil gratuit, open-source, pour l'éducation, construit par des élèves, pour des professeurs. Maintenu et hébergé en France." />
        <meta property="og:type" content="website" />
        <meta property="og:url" content="https://alumet.io" />
        <meta property="og:image" content="https://i.imgur.com/QMtz1MF.png" />
        <meta name="twitter:card" content="summary_large_image" />
        <meta name="twitter:domain" content="alumet.io" />
        <meta name="twitter:url" content="https://alumet.io/" />
        <meta name="twitter:title" content="Alumet: La flamme de l’innovation au service de l’éducation." />
        <meta name="twitter:description" content="L'outil gratuit, open-source, pour l'éducation, construit par des élèves, pour des professeurs. Maintenu et hébergé en France." />
        <meta name="twitter:image" content="https://i.imgur.com/QMtz1MF.png" />

        <link rel="stylesheet" type="text/css" href="../style/pages/alumet.css" />
        <link rel="stylesheet" type="text/css" href="../style/applications/swiftChat.css" />
        <link rel="stylesheet" type="text/css" href="../../style/global.css" />

        <title>Alumet</title>
    </head>
    <body>
        <section class="loading" style="display: flex">
            <span class="loader-upload"></span>
        </section>

        <div class="prompt-popup popup">
            <div class="prompt">
                <h1 id="prompt-head">Prompt name</h1>
                <h4 id="prompt-desc"></h4>
                <input autocomplete="off" id="prompt-input" type="text" placeholder="Prompt placeholder" />
                <div class="prompt-buttons">
                    <button class="large" id="prompt-red">Supprimer</button> <button class="large" onclick="document.querySelector('.prompt-popup').classList.remove('active-popup')">Annuler</button>
                    <button class="large" id="prompt-confirm">Confirmer</button>
                </div>
                <datalist id="users"> </datalist>
            </div>
        </div>
        <div class="user-popup popup">
            <div class="prompt">
                <h1>Ajouter des collaborateurs</h1>
                <input spellcheck="false" autocomplete="off" id="user-prompt" type="text" placeholder="Entrez un nom ou prénom" />
                <div class="users-fetch">
                    <div class="details loading-users">
                        <span class="loader"></span>
                    </div>
                    <div class="details no-result">
                        <h1>Aucun resultats</h1>
                        <p>Affiner votre recherche</p>
                    </div>
                </div>
                <div class="prompt-buttons">
                    <button class="large">Supprimer</button> <button class="large" onclick="document.querySelector('.user-popup').classList.remove('active-popup')">Annuler</button>
                    <button onclick="confirmCollaborators()" class="large">Confirmer</button>
                </div>
            </div>
        </div>
        <div id="toast"></div>
        <div class="alumet">
            <div class="alumet-content">
                <button onclick="navbar('wall', null, 'wall')" id="wall" class="add admin">Ajouter un mur</button>
            </div>
        </div>
        <div class="overlay">
            <div class="overlay-content menu">
                <h1 onclick="navbar('home')">Accueil</h1>
                <h1 onclick="navbar('messages')">Messages</h1>
                <h1 onclick="navbar('flashcards')">Flashcards</h1>
                <h1 onclick="navbar('ideaFlow')">Cartes Mentales</h1>
                <h1 onclick="navbar('settings')">Paramètres</h1>
                <h1 onclick="navbar('participants')">Participants</h1>
                <h1 onclick="navbar('profile')">Profile</h1>
            </div>
            <div class="overlay-content loadfile">
                <div class="loading full-screen">
                    <span class="loader"></span>
                </div>
                <h1>Choisir un fichier</h1>
                <div class="divider"></div>
                <div class="from-device">
                    <h3>Le fichier est sur votre appareil ?</h3>
                    <button id="load-post-file" class="large greyed">Charger le fichier</button>
                    <input type="file" style="display: none" id="post-file" />
                </div>

                <select name="folder" id="folder-selection" class="connected"></select>
                <div class="files-header">
                    <h3>Nom du fichier</h3>
                    <h3>Taille</h3>
                    <h3>Mise en ligne</h3>
                    <input id="search-bar" placeholder="Rechercher un fichier" type="text" name="search" />
                </div>
                <div class="files-items">
                    <div class="loader-container">
                        <span class="loader-upload"></span>
                    </div>
                    <div class="full-screen" style="display: flex">
                        <h1>Pas de fichiers</h1>
                        <p>Ce dossier ne contient pas de fichiers</p>
                    </div>
                </div>
                <button onclick="navbar('post')" class="large greyed">Annuler</button>
            </div>
            <div class="overlay-content disconnected">
                <h1>Connexion au serveur perdu</h1>
                <div class="divider"></div>
                <div class="information">
                    <img src="../assets/global/disconnect.svg" />
                    <h3>Vous êtes déconnecté</h3>
                    <p>Actualiser cette page pour recevoir les modifications en temps réel lorsque votre connexion sera de retour !</p>
                </div>
            </div>
            <div class="overlay-content loadingRessources">
                <div class="loading full-screen">
                    <span class="loader"></span>
                    <h3>Nous appliquons les modifications<br />Patientez quelques instants</h3>
                </div>
            </div>
            <div class="overlay-content messages">
                <div class="conversation-container">
                    <div class="conversation-body">
                        <div class="information">
                            <img src="../assets/global/messages_top.svg" />
                            <p>La discussion commence ici !</p>
                        </div>
                    </div>
                    <div class="conversation-footer"><input autocomplete="off" type="text" name="message" id="message" placeholder="Écrire un message" /> <img id="send-text" src="../assets/global/send.svg" alt="send icon" /></div>
                </div>
            </div>
            <div class="overlay-content latex">
                <h1>Ecrire au format LaTeX</h1>
                <div class="divider"></div>
                <input id="latexInput" type="text" placeholder="Ecrivez votre formule" />
                <div class="divider"></div>
                <img id="latexPreview" src="https://latex.codecogs.com/svg.image?" />
                <button onclick="insertLatex()" class="large confirm">Inserer la formule</button>
            </div>
            <div class="overlay-content wall">
                <h1>Créer un mur</h1>
                <div class="divider"></div>
                <input id="wallTitle" type="text" placeholder="Nom du mur" />
                <div class="switch-options">
                    <div class="option">
                        <h1>Autoriser les commentaires</h1>
                        <label class="switch">
                            <input id="postAuthorized" type="checkbox" />
                            <span class="slide round"></span>
                        </label>
                    </div>
                </div>
                <div class="positions">
                    <div>
                        <button onclick="patchWall('left')" class="large greyed">Déplacer a gauche</button>
                        <button onclick="patchWall('right')" class="large greyed">Déplacer a droite</button>
                    </div>
                    <button onclick="patchWall('first')" class="large greyed">Mettre en première position</button>
                </div>
                <div class="actions">
                    <button onclick="deleteWall()" class="large reded">Supprimer le mur</button>
                    <button onclick="createWall()" class="large confirm">Modifier le mur</button>
                </div>
                <button onclick="createWall()" class="large confirm">Créer le mur</button>
            </div>
            <div class="overlay-content comments">
                <div style="display: none" class="full-screen">
                    <span class="loader"></span>
                </div>
                <h1>Commentaires</h1>
                <div class="divider"></div>
                <div class="postContent"></div>
                <div class="divider"></div>
                <div class="commentsContent">
                    <div class="information">
                        <img src="../assets/global/feedbacks.svg" />
                        <h3>Pas de commentaires</h3>
                        <p>Ajouter un commentaire pour commencer</p>
                    </div>
                </div>
                <div class="commentFooter">
                    <input id="commentInput" maxlength="1000" type="text" placeholder="Ecrivez un commentaire" />
                    <img onclick="postComment()" id="send-text" src="../assets/global/send.svg" alt="send icon" />
                </div>
            </div>
            <div class="overlay-content flashcards">
                <div class="information">
                    <img src="../assets/global/locked.svg" />
                    <h3>
                        Bientôt disponible en
                        <div class="beta">BETA</div>
                    </h3>
                    <p>Vous avez accès à une version préliminaire d'Alumet. De nombreuses fonctionnalités sont encore en cours de déploiement.</p>
                </div>
            </div>
            <div class="overlay-content settings">
                <div class="header-setting">
                    <h1>AlumetName</h1>
                    <button onclick="modifyAlumet()" class="large adminsOnly">Enregistrer</button>
                </div>
                <div class="divider"></div>
                <img src="../assets/global/dev.png" />
                <input type="file" name="alumet-background" id="alumet-background" accept="image/png, image/jpeg" />
                <div class="grid-user-container">
                    <div class="item">
                        <h3>Nom de l'Alumet</h3>
                        <input type="text" name="alumetName" id="alumetName" placeholder="Nom de l'Alumet" autocomplete="on" />
                    </div>
                    <div class="item">
                        <h3>Description de l'Alumet</h3>
                        <input type="text" name="alumetDescription" id="alumetDescription" placeholder="Description de l'Alumet" autocomplete="on" />
                    </div>
                    <div class="item">
                        <h3>Code d'invitation</h3>
                        <input disabled="true" type="text" name="invitationCode" autocomplete="on" id="invitationCode" placeholder="Aucun code d'invitation" />
                    </div>
                    <div class="item">
                        <h3>Option d'administrations</h3>
                        <div class="switch-options">
                            <div class="option">
                                <h1>Alumet en mode privé</h1>
                                <label class="switch">
                                    <input id="alumet-private" type="checkbox" />
                                    <span class="slide round"></span>
                                </label>
                            </div>
                            <div class="option">
                                <h1>Messagerie de l'Alumet</h1>
                                <label class="switch">
                                    <input id="alumet-chat" checked="" type="checkbox" />
                                    <span class="slide round"></span>
                                </label>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="row-bottom-buttons adminsOnly">
                    <button onclick="navbar('participants')" class="large greyed">Gerer les participants</button>
                    <button onclick="engageDeletion()" class="large reded">Supprimer l'Alumet</button>
                </div>
            </div>
            <div class="overlay-content participants">
                <div class="header-setting">
                    <h1>Participants</h1>
                </div>
                <div class="divider"></div>
                <div class="participants-container">
                    <div class="information">
                        <img src="../assets/global/collaboration.svg" />
                        <h3>Aucun participants</h3>
                        <p>Les participants et collaborateurs de votre Alumet seront afficher ici, vous pourrez ensuite les gerer, commencer par en ajouter.</p>
                    </div>
                </div>
                <div class="row-bottom-buttons adminsOnly">
                    <button onclick="addCollaborators()" class="large greyed">Ajouter un collaborateur</button>
                    <button onclick="addParticipants()" class="large">Ajouteur des participants</button>
                </div>
            </div>
            <div class="overlay-content ideaFlow">
                <div class="information">
                    <img src="../assets/global/locked.svg" />
                    <h3>
                        Bientôt disponible en
                        <div class="beta">BETA</div>
                    </h3>
                    <p>Vous avez accès à une version préliminaire d'Alumet. De nombreuses fonctionnalités sont encore en cours de déploiement.</p>
                </div>
            </div>
            <div class="overlay-content profile">
                <h1>Profile</h1>
                <div class="divider"></div>
                <div class="user-infos">
                    <img src="../assets/default/default_user.png" />
                    <div class="user-details">
                        <h3>Anonyme</h3>
                        <p>Déconnecté</p>
                    </div>
                </div>
                <div class="row-bottom-buttons">
                    <button onclick="window.location.href='/dashboard'" class="large greyed">Retour au tableau de bord</button>
                    <button onclick="promptLeave()" class="large reded">Quitter cet Alumet</button>
                    <button onclick="window.location.href=`/portal/${alumet._id}`" class="large">Se connecter</button>
                </div>
            </div>

            <div class="overlay-content post">
                <h1>Créer une publication</h1>
                <div class="divider"></div>
                <input maxlength="300" id="postTitle" type="text" placeholder="Titre de la publication" />
                <div id="toolbar">
                    <div>
                        <button onclick="navbar('latex')" id="latex">
                            <img src="../assets/global/latex.svg" />
                        </button>
                        <!-- <button onclick="navbar('audio')" id="latex">
                            <img src="../assets/global/mic.svg" />
                        </button> -->
                    </div>
                    <div>
                        <button id="bold" onclick="makeBold()">Gras</button>
                        <button id="italic" onclick="makeItalic()">Italique</button>
                        <button id="underline" onclick="doUnderline()">Souligner</button>
                    </div>
                </div>
                <div class="description-container">
                    <div id="editor" placeholder="Ecrivez ici le contenu" spellcheck="false" contenteditable="true" onkeypress="return (this.innerText.length <= 4000)"></div>
                    <div onclick="removeLink()" contenteditable="false" class="link-preview">
                        <div class="loading rounded">
                            <span class="loader"></span>
                            <h3>Chargement d'un aperçu</h3>
                        </div>
                        <h2 id="preview-title">Website Title</h2>
                        <p id="preview-link">https://domain.com</p>
                        <div class="reader-gradient"></div>
                    </div>
                </div>
                <div class="drop-box">
                    <div class="indications">
                        <h3>
                            Cliquer ici pour selectionner un fichier<br />
                            Vous pouvez envoyer 1 ficher par publication
                        </h3>
                    </div>
                    <div class="sending-box rts">
                        <div class="loading-box reponsive-hide"><img src="../assets/global/file_rts.svg" alt="tick" /></div>
                        <div class="file-sending-infos">
                            <h3>file_name<span id="file-upload-ext">.ext</span></h3>
                        </div>
                        <div class="send-actions"><button onclick="cancelSend()" id="cancel-send" class="large greyed">Retirer</button></div>
                    </div>
                </div>
                <div class="switch-options">
                    <div class="option">
                        <h1>Autoriser les commentaires</h1>
                        <label class="switch">
                            <input id="postCommentAuthorized" type="checkbox" />
                            <span class="slide round"></span>
                        </label>
                    </div>

                    <div class="option">
                        <h1>Seul les administrateurs voient</h1>
                        <label class="switch">
                            <input id="administatorsAuthorized" checked="" type="checkbox" />
                            <span class="slide round"></span>
                        </label>
                    </div>
                    <div class="option">
                        <h1>Date de publication automatique</h1>
                        <label class="switch">
                            <input id="publicationDate" checked="" type="checkbox" />
                            <span class="slide round"></span>
                        </label>
                    </div>
                </div>

                <div class="date">
                    <input type="datetime-local" id="date" />
                </div>
                <div class="post-buttons">
                    <button onclick="deletePost()" class="large reded confirm">Supprimer la publication</button>
                    <button onclick="createPost()" class="large confirm">Publier</button>
                </div>
            </div>
        </div>
        <div class="navbar">
            <div class="burger" id="burger">
                <span class="burger-line"></span>
                <span class="burger-line"></span>
                <span class="burger-line"></span>
            </div>
            <div id="menu"></div>
            <button onclick="navbar('home')" class="navbar-active" id="home">
                <img src="../assets/global/home_a.svg" alt="home" />
                <p>Accueil</p>
            </button>
            <button onclick="navbar('messages')" class="connectedOnly" id="messages">
                <img src="../assets/global/messages_a.svg" alt="messagerie" />
                <p>Messages</p>
                <div class="ping"></div>
            </button>
            <button onclick="navbar('flashcards')" id="flashcards">
                <img src="../assets/global/flashcards_a.svg" />
                <p>Flashcards</p>
            </button>
            <button onclick="navbar('ideaFlow')" id="ideaFlow">
                <img src="../assets/global/ideaFlow_a.svg" alt="Cartes mentales" />
                <p>Cartes Mentales</p>
            </button>
            <button onclick="navbar('participants')" id="participants">
                <img src="../assets/global/participants.svg" alt="Participants" />
                <p>Participants</p>
            </button>
            <button onclick="navbar('settings')" id="settings">
                <img src="../assets/global/settings.svg" alt="paramètres" />
                <p>Paramètres</p>
            </button>
            <button onclick="navbar('profile')" class="force" id="profile"><img src="../assets/default/default_user.png" /></button>
        </div>
    </body>
    <script src="/socket.io/socket.io.js"></script>
    <script>
        const socket = io();
    </script>
    <script src="../../script/global.js"></script>
    <script src="../script/socket/alumet.js"></script>
    <script src="../script/socket/chat.js"></script>
    <script src="../script/alumet/alumet.js"></script>
    <script src="../script/applications/swiftChat.js"></script>
    <script src="../script/alumet/contentManager.js"></script>
</html>
